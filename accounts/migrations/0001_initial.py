# Generated by Django 5.2.1 on 2026-01-22 10:41

import django.core.validators
import django.db.models.deletion
from decimal import Decimal
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='Agreement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200, verbose_name='Title')),
                ('content', models.TextField(verbose_name='Agreement Content')),
                ('version', models.CharField(max_length=10, verbose_name='Version')),
                ('is_active', models.BooleanField(default=True, verbose_name='Is Active')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
            ],
            options={
                'verbose_name': 'Agreement',
                'verbose_name_plural': 'Agreements',
            },
        ),
        migrations.CreateModel(
            name='Bank',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='Bank Name')),
                ('logo', models.ImageField(blank=True, null=True, upload_to='banks/logos/', verbose_name='Bank Logo')),
                ('icon', models.ImageField(blank=True, null=True, upload_to='banks/icons/', verbose_name='Bank Icon')),
                ('qr_code', models.ImageField(blank=True, null=True, upload_to='banks/qr_codes/', verbose_name='QR Code')),
                ('account_details', models.TextField(blank=True, null=True, verbose_name='Account Details')),
                ('url', models.URLField(blank=True, max_length=2048, null=True)),
                ('is_active', models.BooleanField(default=True, verbose_name='Is Active')),
                ('is_card', models.BooleanField(default=False)),
                ('is_square', models.BooleanField(default=False)),
                ('is_paypal', models.BooleanField(default=False)),
            ],
            options={
                'verbose_name': 'Payment Option',
                'verbose_name_plural': 'Payment Options',
            },
        ),
        migrations.CreateModel(
            name='ExpenseBalance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_expense', models.DecimalField(decimal_places=2, default=0, max_digits=12)),
            ],
        ),
        migrations.CreateModel(
            name='Group',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=100, null=True, unique=True, verbose_name='Group Name')),
                ('percentage', models.DecimalField(blank=True, decimal_places=2, help_text='Percentage to deduct from profit (0-100)', max_digits=5, null=True, validators=[django.core.validators.MinValueValidator(Decimal('0.00')), django.core.validators.MaxValueValidator(Decimal('100.00'))], verbose_name='Deduction Percentage')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Group',
                'verbose_name_plural': 'Groups',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Help',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('image', models.ImageField(blank=True, null=True, upload_to='help_images/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
        ),
        migrations.CreateModel(
            name='OfficeCost',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('balance', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=20)),
            ],
            options={
                'verbose_name': 'Office Cost',
                'verbose_name_plural': 'Office Costs',
            },
        ),
        migrations.CreateModel(
            name='SharePrice',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('price_per_share', models.DecimalField(decimal_places=2, default=Decimal('5000.00'), max_digits=20, verbose_name='Price Per Share')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Share Price',
                'verbose_name_plural': 'Share Price',
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('first_name', models.CharField(max_length=150, verbose_name='First Name')),
                ('middle_name', models.CharField(blank=True, max_length=150, null=True, verbose_name='Middle Name')),
                ('last_name', models.CharField(max_length=150, verbose_name='Last Name')),
                ('short_name', models.CharField(blank=True, max_length=255, null=True, verbose_name='Short Name')),
                ('phone_number', models.CharField(max_length=20, verbose_name='Phone Number')),
                ('email', models.EmailField(max_length=255, unique=True, verbose_name='Email Address')),
                ('birth_year', models.IntegerField(choices=[(1959, 1959), (1960, 1960), (1961, 1961), (1962, 1962), (1963, 1963), (1964, 1964), (1965, 1965), (1966, 1966), (1967, 1967), (1968, 1968), (1969, 1969), (1970, 1970), (1971, 1971), (1972, 1972), (1973, 1973), (1974, 1974), (1975, 1975), (1976, 1976), (1977, 1977), (1978, 1978), (1979, 1979), (1980, 1980), (1981, 1981), (1982, 1982), (1983, 1983), (1984, 1984), (1985, 1985), (1986, 1986), (1987, 1987), (1988, 1988), (1989, 1989), (1990, 1990), (1991, 1991), (1992, 1992), (1993, 1993), (1994, 1994), (1995, 1995), (1996, 1996), (1997, 1997), (1998, 1998), (1999, 1999), (2000, 2000), (2001, 2001), (2002, 2002), (2003, 2003), (2004, 2004), (2005, 2005), (2006, 2006), (2007, 2007), (2008, 2008), (2009, 2009), (2010, 2010), (2011, 2011), (2012, 2012), (2013, 2013), (2014, 2014), (2015, 2015), (2016, 2016), (2017, 2017), (2018, 2018), (2019, 2019), (2020, 2020), (2021, 2021), (2022, 2022), (2023, 2023), (2024, 2024), (2025, 2025)], null=True, verbose_name='Birth Year')),
                ('birth_month', models.IntegerField(choices=[(1, 'January'), (2, 'February'), (3, 'March'), (4, 'April'), (5, 'May'), (6, 'June'), (7, 'July'), (8, 'August'), (9, 'September'), (10, 'October'), (11, 'November'), (12, 'December')], null=True, verbose_name='Birth Month')),
                ('birth_date', models.IntegerField(choices=[(1, 1), (2, 2), (3, 3), (4, 4), (5, 5), (6, 6), (7, 7), (8, 8), (9, 9), (10, 10), (11, 11), (12, 12), (13, 13), (14, 14), (15, 15), (16, 16), (17, 17), (18, 18), (19, 19), (20, 20), (21, 21), (22, 22), (23, 23), (24, 24), (25, 25), (26, 26), (27, 27), (28, 28), (29, 29), (30, 30), (31, 31)], null=True, verbose_name='Birth Date')),
                ('home_address_line_1', models.CharField(max_length=255, verbose_name='Home Address Line 1')),
                ('home_address_line_2', models.CharField(blank=True, max_length=255, null=True, verbose_name='Home Address Line 2')),
                ('city', models.CharField(max_length=100, verbose_name='City')),
                ('state', models.CharField(choices=[('AL', 'Alabama'), ('AK', 'Alaska'), ('AS', 'American Samoa'), ('AZ', 'Arizona'), ('AR', 'Arkansas'), ('AA', 'Armed Forces Americas'), ('AE', 'Armed Forces Europe'), ('AP', 'Armed Forces Pacific'), ('CA', 'California'), ('CO', 'Colorado'), ('CT', 'Connecticut'), ('DE', 'Delaware'), ('DC', 'District of Columbia'), ('FM', 'Federated States of Micronesia'), ('FL', 'Florida'), ('GA', 'Georgia'), ('GU', 'Guam'), ('HI', 'Hawaii'), ('ID', 'Idaho'), ('IL', 'Illinois'), ('IN', 'Indiana'), ('IA', 'Iowa'), ('KS', 'Kansas'), ('KY', 'Kentucky'), ('LA', 'Louisiana'), ('ME', 'Maine'), ('MH', 'Marshall Islands'), ('MD', 'Maryland'), ('MA', 'Massachusetts'), ('MI', 'Michigan'), ('MN', 'Minnesota'), ('MS', 'Mississippi'), ('MO', 'Missouri'), ('MT', 'Montana'), ('NE', 'Nebraska'), ('NV', 'Nevada'), ('NH', 'New Hampshire'), ('NJ', 'New Jersey'), ('NM', 'New Mexico'), ('NY', 'New York'), ('NC', 'North Carolina'), ('ND', 'North Dakota'), ('MP', 'Northern Mariana Islands'), ('OH', 'Ohio'), ('OK', 'Oklahoma'), ('OR', 'Oregon'), ('PW', 'Palau'), ('PA', 'Pennsylvania'), ('PR', 'Puerto Rico'), ('RI', 'Rhode Island'), ('SC', 'South Carolina'), ('SD', 'South Dakota'), ('TN', 'Tennessee'), ('TX', 'Texas'), ('UT', 'Utah'), ('VT', 'Vermont'), ('VI', 'Virgin Islands'), ('VA', 'Virginia'), ('WA', 'Washington'), ('WV', 'West Virginia'), ('WI', 'Wisconsin'), ('WY', 'Wyoming')], max_length=100, null=True, verbose_name='State')),
                ('zip_code', models.CharField(max_length=10, verbose_name='ZIP Code')),
                ('personal_image', models.ImageField(blank=True, null=True, upload_to='users/profile/', verbose_name='Personal Image')),
                ('photo_id', models.ImageField(blank=True, null=True, upload_to='users/id/', verbose_name='Photo ID')),
                ('emergency_contact', models.CharField(blank=True, max_length=150, null=True, verbose_name='Emergency Contact')),
                ('emergency_contact_number', models.CharField(blank=True, max_length=150, null=True, verbose_name='Emergency Contact Name')),
                ('how_did_you_know', models.CharField(blank=True, max_length=500, null=True, verbose_name='How Did You Know About Us')),
                ('sign_by_name', models.CharField(blank=True, max_length=150, null=True, verbose_name='Sign By Name')),
                ('beneficiaries', models.JSONField(blank=True, default=list, null=True, verbose_name='Beneficiaries')),
                ('investor', models.BooleanField(default=True, verbose_name='Investor')),
                ('owner', models.BooleanField(default=False, verbose_name='Owner')),
                ('staff', models.BooleanField(default=False, verbose_name='Staff')),
                ('semi_superuser', models.BooleanField(default=False, verbose_name='Semi-Superuser')),
                ('member_id', models.CharField(blank=True, max_length=20, null=True, unique=True, verbose_name='Member ID')),
                ('member_since', models.DateTimeField(auto_now_add=True, verbose_name='Member Since')),
                ('balance', models.DecimalField(decimal_places=6, default=0.0, max_digits=100, verbose_name='Balance')),
                ('total_invest_balance', models.DecimalField(decimal_places=6, default=0.0, max_digits=100, verbose_name='Invest Balance')),
                ('is_active', models.BooleanField(default=True, verbose_name='Is Active')),
                ('is_agree', models.BooleanField(default=False, verbose_name='Is Agree')),
                ('is_expense', models.BooleanField(default=False, verbose_name='Is Expense')),
                ('is_finnancial', models.BooleanField(default=False, verbose_name='Is Finnancial')),
                ('is_property', models.BooleanField(default=False, verbose_name='Is Property')),
                ('is_continue', models.BooleanField(default=True, verbose_name='Is Continue')),
                ('office_management', models.BooleanField(default=False, help_text="Only one user can be office manager. Office costs will be added to this user's balance.", verbose_name='Office Management')),
                ('freeze_date', models.DateTimeField(blank=True, null=True, verbose_name='Freeze Date')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.permission', verbose_name='user permissions')),
                ('user_group', models.ForeignKey(blank=True, help_text='Select a group for this user to apply profit deductions', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='users', to='accounts.group', verbose_name='User Group')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Announcement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Beneficiary',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150, verbose_name='Beneficiary Name')),
                ('percentage', models.DecimalField(decimal_places=2, max_digits=5, verbose_name='Percentage')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='old_beneficiaries', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Expense',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('expense_date', models.DateField(blank=True, null=True)),
                ('purpose', models.CharField(blank=True, max_length=200, null=True, verbose_name='Purpose')),
                ('description', models.TextField(verbose_name='Description')),
                ('image', models.ImageField(blank=True, null=True, upload_to='expenses/', verbose_name='Receipt/Invoice')),
                ('amount', models.DecimalField(decimal_places=6, max_digits=12, verbose_name='Amount')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=10)),
                ('payment_status', models.CharField(choices=[('unpaid', 'Unpaid'), ('paid', 'Paid')], default='unpaid', max_length=10)),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_expenses', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_expenses', to=settings.AUTH_USER_MODEL)),
                ('paid_by_user', models.ForeignKey(blank=True, help_text='Select the user who paid for this expense with their own money', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='paid_expenses', to=settings.AUTH_USER_MODEL, verbose_name='Paid By User')),
            ],
        ),
        migrations.CreateModel(
            name='ExpensePayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12)),
                ('receipt', models.ImageField(blank=True, null=True, upload_to='expense_payments/')),
                ('receive_type', models.CharField(choices=[('cash', 'Cash'), ('account', 'Account Transfer')], max_length=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('expense', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to='accounts.expense')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='expense_payments', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Amount')),
                ('paid_amount', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True, verbose_name='Total Amount (with fee)')),
                ('receipt', models.FileField(blank=True, null=True, upload_to='payments/receipts/', verbose_name='Receipt')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=10, verbose_name='Status')),
                ('notes', models.TextField(blank=True, null=True, verbose_name='Notes')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('approved_at', models.DateTimeField(blank=True, null=True, verbose_name='Approved At')),
                ('is_office_management', models.BooleanField(default=False, help_text='True if this payment was approved for office management', verbose_name='Office Management Approval')),
                ('approved_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_payments', to=settings.AUTH_USER_MODEL, verbose_name='Approved By')),
                ('bank', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='accounts.bank', verbose_name='Bank')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'Payment',
                'verbose_name_plural': 'Payments',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Property',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=200)),
                ('description', models.TextField()),
                ('estimated_price', models.DecimalField(blank=True, decimal_places=2, max_digits=50, null=True, verbose_name='Estimated Price')),
                ('booking_fee', models.DecimalField(blank=True, decimal_places=2, max_digits=50, null=True, verbose_name='Booking fee')),
                ('auction_price', models.DecimalField(blank=True, decimal_places=2, max_digits=50, null=True, verbose_name='Auction Price')),
                ('buying_price', models.DecimalField(blank=True, decimal_places=6, max_digits=50, null=True, verbose_name='Buying Price')),
                ('service_cost', models.DecimalField(blank=True, decimal_places=6, max_digits=50, null=True, verbose_name='Service Cost')),
                ('asking_price', models.DecimalField(blank=True, decimal_places=2, max_digits=50, null=True, verbose_name='Asking Price')),
                ('selling_price', models.DecimalField(blank=True, decimal_places=2, max_digits=50, null=True, verbose_name='Selling Price')),
                ('acquisition_cost', models.DecimalField(blank=True, decimal_places=6, max_digits=50, null=True, verbose_name='Acquisition Cost')),
                ('profit', models.DecimalField(blank=True, decimal_places=2, max_digits=50, null=True, verbose_name='Profit')),
                ('address', models.CharField(max_length=255)),
                ('city', models.CharField(max_length=100)),
                ('state', models.CharField(max_length=100)),
                ('zip_code', models.CharField(max_length=10)),
                ('status', models.CharField(choices=[('wishlist', 'Wish List'), ('failed_to_bought', 'Failed to bought'), ('move_to_next_option', 'Move to next Auction'), ('bought', 'Bought'), ('ready_to_sell', 'Ready to sell'), ('sold', 'Sold')], default='wishlist', max_length=20)),
                ('bedrooms', models.IntegerField(verbose_name='Bedrooms')),
                ('bathrooms', models.FloatField(verbose_name='Bathrooms')),
                ('dining_rooms', models.IntegerField(blank=True, null=True, verbose_name='Dining Rooms')),
                ('square_feet', models.IntegerField(verbose_name='Total Square Feet')),
                ('auction_date', models.DateField(blank=True, null=True)),
                ('buying_date', models.DateField(blank=True, null=True)),
                ('selling_date', models.DateField(blank=True, null=True)),
                ('listed_date', models.DateTimeField(auto_now_add=True)),
                ('url', models.URLField(blank=True, null=True)),
                ('is_contribution_locked', models.BooleanField(default=False, verbose_name='Contribution Locked')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Updated At')),
                ('contributors', models.ManyToManyField(blank=True, null=True, related_name='contributed_properties', to=settings.AUTH_USER_MODEL, verbose_name='Property Contributors')),
                ('listed_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddField(
            model_name='expense',
            name='property',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='accounts.property', verbose_name='Related Property'),
        ),
        migrations.CreateModel(
            name='PropertyContribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('contribution', models.DecimalField(decimal_places=6, max_digits=50, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Contribution Amount')),
                ('is_fixed_amount', models.BooleanField(default=False, verbose_name='Fixed Investment Amount')),
                ('ratio', models.DecimalField(decimal_places=6, max_digits=20, validators=[django.core.validators.MinValueValidator(Decimal('0.00'))], verbose_name='Contribution Ratio')),
                ('investment_date', models.DateField(blank=True, null=True, verbose_name='Date of Investment')),
                ('total_days', models.PositiveIntegerField(default=0, verbose_name='Total Days Invested')),
                ('days_proportion', models.DecimalField(decimal_places=6, default=Decimal('0.00'), max_digits=20, verbose_name='Days Proportion')),
                ('shares', models.DecimalField(blank=True, decimal_places=6, default=Decimal('0.00'), max_digits=20, null=True, verbose_name='Number of Shares')),
                ('investment_ratio', models.DecimalField(decimal_places=6, default=Decimal('0.00'), max_digits=20, verbose_name='Investment Ratio')),
                ('profit_weight', models.DecimalField(decimal_places=6, default=Decimal('0.00'), max_digits=20, verbose_name='Profit Weight')),
                ('invest_amount', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=50, null=True)),
                ('remaining', models.DecimalField(blank=True, decimal_places=2, default=0, max_digits=50, null=True)),
                ('investment_sequence', models.PositiveIntegerField(default=1, verbose_name='Investment Sequence')),
                ('profit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Profit earned on this contribution', max_digits=50, verbose_name='Profit Amount')),
                ('deduction', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Amount deducted based on user group percentage', max_digits=50, verbose_name='Deduction Amount')),
                ('final_profit', models.DecimalField(decimal_places=2, default=Decimal('0.00'), help_text='Final profit after deduction (profit - deduction)', max_digits=50, verbose_name='Final Profit')),
                ('created_at', models.DateTimeField(auto_now_add=True, null=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, null=True, verbose_name='Updated At')),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='property_contributions', to='accounts.property')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='property_contributions', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Property Contribution',
                'verbose_name_plural': 'Property Contributions',
                'ordering': ['property', 'user', 'investment_sequence'],
            },
        ),
        migrations.CreateModel(
            name='DeductionHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('profit_share', models.DecimalField(blank=True, decimal_places=2, default=Decimal('0.00'), max_digits=20, null=True, verbose_name='Profit Share')),
                ('deduction_percentage', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=5, verbose_name='Deduction Percentage')),
                ('deduction_amount', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=20, verbose_name='Deduction Amount')),
                ('sequence_number', models.PositiveIntegerField(default=1, verbose_name='Sequence Number')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('office_manager', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='received_deductions', to=settings.AUTH_USER_MODEL, verbose_name='Office Manager')),
                ('user', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deduction_history', to=settings.AUTH_USER_MODEL, verbose_name='User')),
                ('property', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='deduction_history', to='accounts.property', verbose_name='Property')),
                ('property_contribution', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='accounts.propertycontribution', verbose_name='Property Contribution')),
            ],
            options={
                'verbose_name': 'Deduction History',
                'verbose_name_plural': 'Deduction Histories',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PropertyImage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('image', models.ImageField(upload_to='properties/')),
                ('is_primary', models.BooleanField(default=False)),
                ('property', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='images', to='accounts.property')),
            ],
            options={
                'ordering': ['-is_primary', 'id'],
            },
        ),
        migrations.CreateModel(
            name='PropertyProfitDistribution',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('first_level_buyer_count', models.PositiveIntegerField(default=0, verbose_name='Number of First Level Buyers')),
                ('first_level_share', models.DecimalField(decimal_places=2, default=Decimal('1.00'), help_text='Default: 1.00 (Superuser can modify, e.g., 1.8)', max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='First Level Share')),
                ('second_level_buyer_count', models.PositiveIntegerField(default=0, verbose_name='Number of Second Level Buyers')),
                ('second_level_share', models.DecimalField(decimal_places=2, default=Decimal('1.00'), help_text='Default: 1.00', max_digits=10, validators=[django.core.validators.MinValueValidator(Decimal('0.01'))], verbose_name='Second Level Share')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('first_level_buyers', models.ManyToManyField(blank=True, related_name='first_level_properties', to=settings.AUTH_USER_MODEL, verbose_name='First Level Buyers')),
                ('property', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profit_distribution', to='accounts.property', verbose_name='Property')),
                ('second_level_buyers', models.ManyToManyField(blank=True, related_name='second_level_properties', to=settings.AUTH_USER_MODEL, verbose_name='Second Level Buyers')),
            ],
            options={
                'verbose_name': 'Property Profit Distribution',
                'verbose_name_plural': 'Property Profit Distribution',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='BuyerLevelHistory',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('previous_level', models.CharField(blank=True, choices=[('first', 'First Level Buyer'), ('second', 'Second Level Buyer')], max_length=10, null=True, verbose_name='Previous Level')),
                ('current_level', models.CharField(choices=[('first', 'First Level Buyer'), ('second', 'Second Level Buyer')], max_length=10, verbose_name='Current Level')),
                ('changed_at', models.DateTimeField(auto_now_add=True, verbose_name='Changed At')),
                ('changed_by', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='level_changes_made', to=settings.AUTH_USER_MODEL, verbose_name='Changed By')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='User')),
                ('profit_distribution', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='level_history', to='accounts.propertyprofitdistribution', verbose_name='Profit Distribution')),
            ],
            options={
                'verbose_name': 'Buyer Level History',
                'verbose_name_plural': 'Buyer Level History',
                'ordering': ['-changed_at'],
            },
        ),
        migrations.CreateModel(
            name='Story',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('message', models.TextField()),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('related_property', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='stories', to='accounts.property')),
            ],
        ),
        migrations.CreateModel(
            name='UserAgreement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('agreed_at', models.DateTimeField(auto_now_add=True, verbose_name='Agreed At')),
                ('uploaded_file', models.FileField(blank=True, null=True, upload_to='user_agreements/', verbose_name='Uploaded File')),
                ('created_at', models.DateTimeField(auto_now_add=True, verbose_name='Created At')),
                ('updated_at', models.DateTimeField(auto_now=True, verbose_name='Updated At')),
                ('agreement', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='accounts.agreement', verbose_name='Agreement')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL, verbose_name='User')),
            ],
            options={
                'verbose_name': 'User Agreement',
                'verbose_name_plural': 'User Agreements',
            },
        ),
        migrations.AddIndex(
            model_name='propertycontribution',
            index=models.Index(fields=['user', 'property', 'investment_sequence'], name='accounts_pr_user_id_dae822_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='useragreement',
            unique_together={('user', 'agreement')},
        ),
    ]
